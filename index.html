<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="js/angular.min.js"></script>
    <link rel="stylesheet" href="css/dibas.css">
    <style>
    
    </style>
    <script>
        var app = angular.module("myShoppingList",[]);
        app.controller("myCtrl",function($scope){
            $scope.products = ["Milk","Bread","Cheese","Butter"];
            
            $scope.addItem = function(){
                $scope.errortext="";
                if(!$scope.addMe){return;}
                if($scope.products.indexOf($scope.addMe)==-1){
                    $scope.products.push($scope.addMe);
                   }else{
                       $scope.errortext="The Item is already in your shopping list";
                   }
                
            }
            
            $scope.removeItem= function(x){
                $scope.errortext="";
                $scope.products.splice(x,1);
            }
        });
    </script>
    </head>
<body>
        <div ng-app="myShoppingList" ng-controller="myCtrl" class="dibas-card-2 dibas-margin" style="max-width: 400px;">
       <header class="dibas-container dibas-light-grey dibas-padding-16">
            <h3>My Shopping List</h3>
            </header>
            <ul class="dibas-ul">
            <li ng-repeat="x in products" class="dibas-padding-16">{{x}}<span ng-click="removeItem($index)" style="cursor: pointer;" class="dibas-right dibas-margin-right">&times;</span></li>
            </ul> 
            <div class="dibas-container dibas-light-grey dibas-padding-16">
            <div class="dibas-row dibas-margin-top">
                <div class="dibas-col s10">
                <input ng-model="addMe" placeholder="Add Shopping item here" class="dibas-input dibas-border dibas-padding">
                </div>
                <div class="dibas-col s2">
                 <button ng-click="addItem()" class="dibas-btn dibas-padding dibas-green">Add</button>
                </div>
                </div>
                <p class="dibas-text-red">{{errortext}}</p>
            </div>
    </div>
    </body>
</html>